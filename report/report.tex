%
% $Id$
% $Author$
% $Date$
% $Rev: 34 $
%

%\documentclass[10pt,a4paper,twoside,openright]{scrartcl}
\documentclass[10pt,a4paper]{scrartcl}
\usepackage{extsizes}
\usepackage[utf8]{inputenc}
\usepackage[english,ngerman]{babel}
\usepackage[T1]{fontenc}
\usepackage{fix-cm}
\usepackage{lmodern}
\usepackage{lipsum}

\usepackage{commath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}

\usepackage{caption}
\usepackage{ragged2e}

%\usepackage[left=3.1cm, right=3.1cm]{geometry}
\usepackage{graphicx}
%\usepackage[export]{adjustbox}

\usepackage{epstopdf}
\epstopdfDeclareGraphicsRule{.tif}{png}{.png}{convert #1 \OutputFile}
\AppendGraphicsExtensions{.tif}

\usepackage{float}
\usepackage{subfig}
\usepackage{sidecap}
\usepackage[bottom]{footmisc}

\usepackage{color}
\definecolor{codeblue}{rgb}{0,0,0.3}
\definecolor{codegreen}{rgb}{0,0.3,0}
\definecolor{codered}{rgb}{0.3,0,0}
\definecolor{Gray}{gray}{0.9}
\usepackage[scaled]{beramono}
\usepackage{listings}
\usepackage{needspace}
\lstset{%
  basicstyle=\footnotesize\ttfamily,
  frame=single, %line/leftline/single
  aboveskip=\topsep,
  belowskip=\topsep,
  breakatwhitespace=true,
  showstringspaces=false,
  breaklines=true,
  commentstyle=\itshape\color{codegreen},
  keywordstyle=\bfseries\color{codeblue},
  stringstyle=\color{codered},
  captionpos=t\/
}
\captionsetup[lstlisting]{font=footnotesize}
\newcommand{\mylisting}[2][]{%
  \lstinputlisting[caption={\texttt{\detokenize{#2}}},#1]{#2}%
}

\usepackage{booktabs}
\usepackage{longtable}
\usepackage{color, colortbl}
\usepackage{multirow}
\usepackage{varwidth}
\usepackage{pgfplotstable}

\definecolor{blue}{rgb}{0,0,0.32}
\usepackage[pdfauthor={M. Deineko},
            pdfproducer={pdflatex},
            pdfcreator={LaTeX},
            colorlinks=true,
            linkcolor=blue,
            urlcolor=blue,
            linktoc=section,
            unicode=true
            ]{hyperref}
\hypersetup{pdftitle=TSP on Relaxed Supnick Matrices}

\usepackage[title,page,toc]{appendix}
\newcommand*{\Appendixautorefname}{Appendix}
\usepackage{cleveref}

\usepackage{verbatim}
\usepackage{cprotect}

\usepackage{afterpage}
%\makeatletter
%\def\verbatim@font{\normalfont\itshape}
%\makeatother
\newcommand\blankpage{%
  \null%
  \thispagestyle{empty}%
  %\addtocounter{page}{-1}%
  \vspace*{\fill}
  \centering
  {\em {\small
  This page would have been intentionally left blank had we not chosen to
  \href{https://en.wikipedia.org/wiki/Recursion}{mention it}.
  }}%
  %\verbatiminput{|"/usr/games/fortune"}
  \vspace{\fill}%
  \newpage
}

\usepackage[backend=biber]{biblatex}
%\usepackage[fixlanguage]{babelbib}
\addbibresource{references.bib}
\usepackage[nottoc]{tocbibind}

%\usepackage[toc]{multitoc}
\usepackage[subfigure]{tocloft}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

\begin{document}

\selectlanguage{english}

\title{TSP on Relaxed Supnick Matrices}
\subtitle{Theory and Implementation}
\input{authors.tex}
\date{\today}
\maketitle
\thispagestyle{empty}

%\setlength{\cftbeforetoctitleskip}{-2em}
\tocloftpagestyle{empty}
\tableofcontents
\afterpage{\blankpage}

%\setlength{\parindent}{0cm}

\clearpage

\section{Theory}
\subsection{Motivation}
\subsubsection{Monge matrices}
\subsubsection{Pyramidal tours and polynomial time}
\subsection{Continuation}
\subsubsection{Relaxed Supnick matrices}
\subsubsection{Strongly balanced tours and linear time}

\section{Implementation}
\subsection{Synthetic benchmarks and runtime behaviour}
\subsection{Local search extension}
\subsection{TSPLib benchmarks}

\section{Areas for further research}
\subsection{Applicability}
\subsubsection{Relaxed instances?}
\subsubsection{Euclidean TSP in higher dimensions?}
\subsubsection{Special cases?}
\subsection{Dynamic programming and concurrency}
%\input{problem1.tex}

%%
%% BS
%%
%Let
%\[ \Phi_k\left(\big\{ \{a_1,b_1\}, \ldots ,\{a_p,b_p\} \big\} \right) \]
%denote shortest (in total length) balanced paths set containing points $1 \ldots k$
%with $a_i, b_i$ being the paths' endpoints
%and
%\[ B\left(\big\{ \{a_1,b_1\}, \ldots ,\{a_p,b_p\} \big\}\right) = \bigcup_i\{a_i,b_i\}.\]
%Then following holds:
%\begin{enumerate}
%  \item
%\[
%  \Phi_k\left(\big\{ \{a_1\}, \ldots , \{a_k\} \big\} \right) =
%  \left\{ \left< a_1 \right> , \ldots , \left< a_k \right> \right\}
%\]
%  \item
%\[
%  \Phi_k\left(\big\{ s_1, \ldots , s_p, \{k\} \big\} \right) =
%  \Phi_{k-1}\left(\big\{ s_1, \ldots , s_p \big\}\right) \cup
%  \left\{\left<k\right>\right\}
%\]
%  \item
%\[
%  \Phi_k\left(\big\{ s_1, \ldots , s_p, \{r,k\} \big\} \right) =
%  append\left(\Phi^{*},z^{\ast},k\right)
%\]
%where
%\[
%  \Phi^{*} = \Phi_{k-1}\left(\big\{ s_1, \ldots , s_p, \{r,z^{*}\} \big\} \right)
%\]
%\[
%  z^{*} = \argmin_{z \in [1,\ldots,m]}{
%    \left(
%      length \;
%      \Phi_{k-1}\left(\big\{ s_1, \ldots , s_p, \{r,z\} \big\} \right)
%      + d(z,k)
%    \right)
%  }
%\]
%\[
%  m = \min B\left(\{s_1, \ldots ,s_p\}\right) \cup \{k\} - 1
%\]
%  \item
%\[
%  \Phi_k\left(\left\{ s_1, \ldots , s_p \right\} \right) =
%  \;\text{with}\;
%  k \notin B\left({s_1,\ldots,s_p}\right)
%\]
%is then chosen from two possible solutions:
%\begin{enumerate}
%  \item
%\[
%  merge\left(\Phi_{q^{*}},z^{*},z^{**},k\right)
%\]
%where
%\[
%  \Phi_{q^{*}} = \Phi_{k-1}\left(\big\{ s_1, \ldots , s_{q^{*}-1},
%  \{z^{*},a^{*}\}, \{b^{*},z^{**}\}, s_{q^{*}+1}, \ldots, s_p \big\} \right)
%\]
%\[
%  s_{q^{*}} = \{a^{*},b^{*}\}
%\]
%\[
%  (q^{*}, z^{*},z^{**}) = \argmin_{
%    \substack{q \in [1,p] \\\
%              z^\prime \in [1,\ldots,m-1] \\\
%              z^{\prime\prime} \in [z^\prime+1, m-1]}}{
%    \mkern-18mu \Phi_{k-1}\left(\big\{ s_1, \ldots , s_{q-1},
%    \{z^{\prime},a\}, \{b,z^{\prime\prime}\},
%    s_{q+1}, \ldots ,s_p \big\} \right)
%    \! + \! d(z^\prime,a) \! + \! d(z^{\prime\prime},b)
%  }
%\]
%\[
%  m = \min B\left(\{s_1,\ldots,s_p\}\right)
%\]
%  \item
%\[
%  merge\left(\Phi^{*},z^{*},z^{**},k\right)
%\]
%for
%\[
%  s_p = \{m,r\}, m = \min B\left(\{s_1,\ldots,s_p\}\right), m \neq r
%\]
%where
%\[
%  \Phi^{*} = \Phi_{k-1}\left(\big\{ s_1, \ldots , s_{p-1}, \{z^{*},m\}, \{r,z^{**}\} \big\} \right)
%\]
%\[
%  (z^{*},z^{**}) = \argmin_{\substack{z^\prime \in [1,\ldots,m-1] \\\
%  z^{\prime\prime} \in [m+1, \min B\left(\{s_1,\ldots,s_{p-1}\}\right)-1]}}{
%    \mkern-28mu \mkern-18mu
%    \Phi_{k-1}\left(\big\{ s_1, \ldots , s_{p-1},
%    \{z^{\prime},m\}, \{r,z^{\prime\prime}\} \big\} \right)
%    + d(z^\prime,m) + d(z^{\prime\prime},r)
%  }
%\]
%\end{enumerate}
%\end{enumerate}
%
%\cite{example}
%

\clearpage

\input{sml-support.tex}

\setlength{\aboverulesep}{0pt}
\setlength{\belowrulesep}{0pt}
\renewcommand{\tabcolsep}{9pt}
\setlength{\extrarowheight}{1.1ex}
\newcolumntype{g}{>{\columncolor{Gray}}c}

%\begin{table}[hpb]
\begin{figure}[htbp]
\centering
  \null\hfill%
  \subfloat[numbers]{%
    \mbox{%
      \pgfplotstabletypeset[
        col sep=space,
        std=-10:10,
        every head row/.style={output empty row},
        every head row/.style={%
          before row={\toprule},
          after row={\midrule}
        },
        display columns/0/.style={%
          column name={\bfseries Node size limit},
          column type={g}
        },
        display columns/1/.style={%
          column name={\bfseries Node types},
          column type={r}
        },
        display columns/2/.style={%
          column name={\bfseries Stable at size},
          column type={g}
        },
        every last row/.style={after row=\bottomrule},
        %multicolumn names,
      ]{../plot/data/num\string_types.csv}%
    }
  }
  \hfill\null
\caption{Node types encountered.}%
\label{fig:nodeTypes}%
%\end{table}
\end{figure}

\begin{figure}[htbp]
\null\hfill%
\subfloat[low]{%
  \includegraphics[width=0.49\textwidth]{../plot/out/mlton_time_random_low.pdf}
}\hfill\null
\null\hfill%
\subfloat[low]{%
  \includegraphics[width=0.49\textwidth]{../plot/out/mlton_time_random_fast.pdf}
}\hfill\null\\
\null\hfill%
\subfloat[fast]{%
  \includegraphics[width=0.59\textwidth]{../plot/out/mlton_time_random_steady.pdf}
}\hfill\null\\
\null\hfill%
\subfloat[medium]{%
  \includegraphics[width=0.49\textwidth]{../plot/out/mlton_time_random_med.pdf}
}\hfill\null
\null\hfill%
\subfloat[hi]{%
  \includegraphics[width=0.49\textwidth]{../plot/out/mlton_time_random_hi.pdf}
}
\hfill\null
\caption{Runtime behaviour (Linux 3.10.17 x86\_64 @ i5-2520M).}
\label{fig:timeGraph}
\end{figure}

\begin{figure}[htbp]
\null\hfill%
\subfloat[random]{%
  \includegraphics[width=0.69\textwidth]{../plot/out/random_val.pdf}
}\hfill\null\\
\null\hfill%
\subfloat[tsplib]{%
  \includegraphics[width=0.69\textwidth]{../plot/out/tsplib_val.pdf}
}\hfill\null
\caption{Results.}
\label{fig:timeGraph}
\end{figure}

\clearpage
\begin{appendices}
\section{Platform/Compiler Support}
%\clearpage
\section{Shared Library Interface?}
%\label{app:p1code}
%\input{problem1app.tex}
\section{Code Index}
\lstlistoflistings%
\section{References}
\printbibliography%
\end{appendices}

\end{document}

